<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>
<!-- 
    Vue如何监测对象的改变。
    1. 加工data，给data里的属性添加setter,getter方法。
        
    2. 
 -->

<body>
    <div id="root">
        <h2>学校名词:{{name}}</h2>
        <2>学校地址{{address}}</2>
    </div>

    <script>
        let data = {
            name: "rjb",
            address: '北京'
        }
        // 构造函数也可以表示一个类
        function Observer(obj) {
            // 汇总对象中所有的属性，形成一个数组.
            const keys = Object.keys(obj)
            keys.forEach((k) =>{
                // 用Object.defineProperty给一个对象定义属性。
                // 并且设置每个属性的get,set方法。
                Object.defineProperty(this,k,{
                    get() {
                        return obj[k]
                    },
                    set(val) {
                        console.log("去更新界面")
                        obj[k] = val
                    }
                })
            })
        }
        const obs = new Observer(data)
        let vm = {}
        vm._data = obs


    //    Object.defineProperty(data,'name', {
    //         get() {

    //         },
    //         set() {

    //         }
    //    })

    </script>

</body>

</html>